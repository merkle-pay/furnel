# Development Caddyfile - no auth required
:80 {
    # API routes
    handle /api/* {
        reverse_proxy api:3000
    }

    # Temporal UI (no auth in dev)
    handle_path /temporal/* {
        reverse_proxy temporal-ui:8080
    }

    # PgWeb (no auth in dev)
    handle_path /pgweb/* {
        reverse_proxy pgweb:8081
    }

    # Redirect without trailing slash
    @noSlash {
        path /temporal /pgweb
    }
    redir @noSlash {path}/ permanent

    # Web frontend (default)
    handle {
        reverse_proxy web:3000
    }
}
